
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tournoi Anime</title>
  <link rel="stylesheet" href="css/retour.css">
  <link rel="stylesheet" href="css/personnages.css">
</head>
<body>

  <header>
    <h1>Tournoi All Time Anime</h1>
    <div class="container-retour">
      <a href="Jouer maintenant.html">
  <button class="btn-retour">‚Üê Retour √† l'accueil</button>
      </a>
    </div>
    <div class="categories">
      <div class="category selected" data-category="All-Time">All Time</div>
      <div class="category" data-category="Sh≈çnen">Sh≈çnen</div>
      <div class="category" data-category="Sh≈çjo">Sh≈çjo</div>
      <div class="category" data-category="Seinen">Seinen</div>
    </div>
    <div id="roundIndicator">Round 1</div>
  </header>

  <div class="card-container">
    <div class="card" id="card1"></div>
    <div class="card" id="card2"></div>
  </div>

  <script>
    // Donn√©es pour les diff√©rentes cat√©gories
document.addEventListener("DOMContentLoaded", function () {
   const categoriesData = {
      "All-Time": [
        { image: "Manga-Anime/OnePiece.jpg", title: "One Piece", description: "Luffy cherche le tr√©sor l√©gendaire pour devenir roi des pirates." },
        { image: "Manga-Anime/NarutoS.jpg", title: "Naruto Shippuden", description: "Naruto veut devenir Hokage et sauver son ami Sasuke." },
        { image: "Manga-Anime/Dragon Ball Z.jpg", title: "Dragon Ball Z", description: "Goku prot√®ge la Terre contre de puissants ennemis." },
        { image: "Manga-Anime/FullMetal Alchemist Brotherhood.jpg", title: "FullMetal Alchemist Brotherhood", description: "Deux fr√®res cherchent la pierre philosophale pour retrouver leurs corps." },
        { image: "Manga-Anime/Death Note.jpg", title: "Death Note", description: "Un lyc√©en d√©couvre un carnet qui tue ceux dont on √©crit le nom √† l'int√©rieur." },
        { image: "Manga-Anime/Hunter x Hunter.jpg", title: "Hunter x Hunter", description: "Gon part √† l‚Äôaventure pour devenir Hunter et retrouver son p√®re." },
        { image: "Manga-Anime/GTO.jpg", title: "GTO", description: "Un ancien voyou devient prof et tente d'√©duquer une classe difficile." },
        { image: "Manga-Anime/Snk.jpg", title: "Snk", description: "L'humanit√© lutte pour survivre face √† des titans mangeurs d'hommes." },
        { image: "Manga-Anime/Bleach.jpg", title: "Bleach", description: "Ichigo devient Shinigami pour combattre les esprits mal√©fiques." },
        { image: "Manga-Anime/JoJo's Bizarre Adventure.jpg", title: "JoJo's Bizarre Adventure", description: "Chaque g√©n√©ration des Joestar affronte des ennemis √©tranges." },
        { image: "Manga-Anime/Fairy Tail.jpg", title: "Fairy Tail", description: "Une guilde de mages vit de folles aventures." },
        { image: "Manga-Anime/Slam Dunk.jpg", title: "Slam Dunk", description: "Un lyc√©en rebelle d√©couvre sa passion pour le basket." },
        { image: "Manga-Anime/Kenshin Le Vagabond.jpg", title: "Kenshin Le Vagabond", description: "Un ancien assassin cherche la paix dans le Japon de l'√®re Meiji." },
        { image: "Manga-Anime/Les Chevaliers du Zodiaque.jpg", title: "Les Chevaliers du Zodiaque", description: "Des chevaliers prot√®gent la d√©esse Ath√©na avec leurs armures sacr√©es." },
        { image: "Manga-Anime/One-Punch Man.jpg", title: "One-Punch Man", description: "Un h√©ros trop fort bat tous ses ennemis en un coup." },
        { image: "Manga-Anime/Ippo.jpg", title: "Ippo", description: "Un lyc√©en timide devient un boxeur talentueux." },
        { image: "Manga-Anime/My Hero Academia.jpg", title: "My Hero Academia", description: "Izuku veut devenir un h√©ros dans un monde rempli de super-pouvoirs." },
        { image: "Manga-Anime/YuYu Hakusho.jpg", title: "YuYu Hakusho", description: "Un adolescent meurt en sauvant un enfant et devient d√©tective des esprits." },
        { image: "Manga-Anime/Eyeshield 21.jpg", title: "Eyeshield 21", description: "Un lyc√©en timide devient star du football am√©ricain." },
        { image: "Manga-Anime/D√©tective Conan.jpg", title: "D√©tective Conan", description: "Un jeune d√©tective coinc√© dans un corps d‚Äôenfant r√©sout des affaires." },
        { image: "Manga-Anime/Ken le survivant.jpg", title: "Ken le survivant", description: "Dans un monde post-apocalyptique, Ken prot√®ge les innocents." },
        { image: "Manga-Anime/Soul Eater.jpg", title: "Soul Eater", description: "Des √©l√®ves manient des armes vivantes pour chasser des √¢mes mal√©fiques." },
        { image: "Manga-Anime/Hikaru no Go.jpg", title: "Hikaru no Go", description: "Un gar√ßon d√©couvre le jeu de Go avec l‚Äôaide d‚Äôun fant√¥me." },
        { image: "Manga-Anime/Assassination Classroom.jpg", title: "Assassination Classroom", description: "Des √©l√®ves doivent tuer leur prof alien avant qu‚Äôil ne d√©truise la Terre." },
        { image: "Manga-Anime/Neon Genesis Evangelion.jpg", title: "Neon Genesis Evangelion", description: "Des adolescents pilotent des robots g√©ants contre des cr√©atures myst√©rieuses." },
        { image: "Manga-Anime/Shaman King.jpg", title: "Shaman King", description: "Yoh veut devenir roi des shamans pour parler avec les esprits." },
        { image: "Manga-Anime/Black Butler.jpg", title: "Black Butler", description: "Un jeune noble et son majordome d√©moniaque cherchent vengeance." },
        { image: "Manga-Anime/Blue Exorcist.jpg", title: "Blue Exorcist", description: "Rin d√©couvre qu‚Äôil est le fils de Satan et devient exorciste." },
        { image: "Manga-Anime/Seven Deadly Sins.jpg", title: "Seven Deadly Sins", description: "Des chevaliers puissants veulent sauver le royaume." },
        { image: "Manga-Anime/Gintama.jpg", title: "Gintama", description: "Un samoura√Ø paresseux vit des aventures absurdes dans un Japon futuriste." },
        { image: "Manga-Anime/Jujutsu Kaisen.jpg", title: "Jujutsu Kaisen", description: "Yuji combat des mal√©dictions avec ses nouveaux pouvoirs." },
        { image: "Manga-Anime/Yu-Gi-Oh!.jpg", title: "Yu-Gi-Oh!", description: "Yugi r√©sout des conflits √† travers des duels de cartes magiques." },
        { image: "Manga-Anime/The Promised Neverland.jpg", title: "The Promised Neverland", description: "Des enfants d√©couvrent l‚Äôhorrible v√©rit√© sur leur orphelinat." },
        { image: "Manga-Anime/Chainsaw Man.jpg", title: "Chainsaw Man", description: "Un chasseur de d√©mons fusionne avec son chien-tron√ßonneuse." },
        { image: "Manga-Anime/Beelzebub.jpg", title: "Beelzebub", description: "Un d√©linquant doit √©lever le fils du roi des d√©mons." },
        { image: "Manga-Anime/Demon Slayer.jpg", title: "Demon Slayer", description: "Tanjir√¥ combat les d√©mons pour sauver sa s≈ìur qui a √©t√© transformer en d√©mon." },
        { image: "Manga-Anime/Magi - The Labyrinth of Magic.jpg", title: "Magi : The Labyrinth of Magic", description: "Des jeunes aventuriers explorent des donjons magiques." },
        { image: "Manga-Anime/A Silent Voice.jpg", title: "A Silent Voice", description: "Un ancien harceleur veut se racheter aupr√®s d‚Äôune fille sourde qu'il a harcel√©." },
        { image: "Manga-Anime/Haikyu.jpg", title: "Haikyu", description: "Des lyc√©ens passionn√©s se battent pour devenir les meilleurs en volley." },
        { image: "Manga-Anime/Black Clover.jpg", title: "Black Clover", description: "Asta, sans magie, r√™ve de devenir empereur-mage." },
        { image: "Manga-Anime/Kuroko no Basket.jpg", title: "Kuroko no Basket", description: "Un joueur discret aide son √©quipe √† devenir la meilleure au basket." },
        { image: "Manga-Anime/Radiant.jpg", title: "Radiant", description: "Un jeune sorcier combat des monstres venus du ciel." },
        { image: "Manga-Anime/Food Wars.jpg", title: "Food Wars", description: "Un jeune chef affronte d‚Äôautres cuisiniers dans des duels culinaires." },
        { image: "Manga-Anime/Pok√©mon.jpg", title: "Pok√©mon", description: "Sacha parcourt le monde pour devenir ma√Ætre Pok√©mon." },
        { image: "Manga-Anime/Beastars.jpg", title: "Beastars", description: "Dans un monde animal, un loup lutte contre sa nature." },
        { image: "Manga-Anime/Sakamoto Days.jpg", title: "Sakamoto Days", description: "Un ancien tueur √† gages tente de vivre une vie paisible." },
        { image: "Manga-Anime/Tokyo Revengers.jpg", title: "Tokyo Revengers", description: "Un jeune homme voyage dans le pass√© pour sauver son amie d'enfance." },
        { image: "Manga-Anime/Mob Psycho 100.jpg", title: "Mob Psycho 100", description: "Un gar√ßon aux pouvoirs psychiques essaie de vivre normalement." },
        { image: "Manga-Anime/Baki.jpg", title: "Baki", description: "Un jeune combattant affronte les plus grands guerriers du monde." },
        { image: "Manga-Anime/Noragami.jpg", title: "Noragami", description: "Un dieu sans temple aide les humains pour quelques pi√®ces." },
        { image: "Manga-Anime/Code Geass.jpg", title: "Code Geass", description: "Lelouch obtient un pouvoir pour renverser un empire." },
        { image: "Manga-Anime/Love Is Wars.jpg", title: "Love Is Wars", description: "Deux lyc√©ens amoureux m√®nent une guerre psychologique pour faire craquer l‚Äôautre." },
        { image: "Manga-Anime/Tomodachi Game.jpg", title: "Tomodachi Game", description: "Des amis participent √† un jeu cruel pour rembourser une dette." },
        { image: "Manga-Anime/Classroom Of The Elite.jpg", title: "Classroom Of The Elite", description: "Un lyc√©e sp√©cial forme les futurs √©lites du pays." },
        { image: "Manga-Anime/Fruit Basket.jpg", title: "Fruit Basket", description: "Une orpheline d√©couvre une famille maudite li√©e au zodiaque chinois." },
        { image: "Manga-Anime/Inazuma Eleven.jpg", title: "Inazuma Eleven", description: "Une √©quipe de foot lyc√©enne vise les sommets gr√¢ce √† des techniques sp√©ciales." },
        { image: "Manga-Anime/Blue Lock.jpg", title: "Blue Lock", description: "Des attaquants s'affrontent pour devenir le num√©ro 1 du foot japonais." },
        { image: "Manga-Anime/Kingdom.jpg", title: "Kingdom", description: "Deux orphelins veulent unifier la Chine en pleine guerre." },
        { image: "Manga-Anime/Tokyo Ghoul.jpg", title: "Tokyo Ghoul", description: "Un √©tudiant devient mi-ghoul apr√®s une attaque et tente de garder son humanit√©." },
        { image: "Manga-Anime/Oshi No Ko.jpg", title: "Oshi No Ko", description: "Deux fans d'une idole renaissent dans le monde du showbiz ." },
        { image: "Manga-Anime/Devilman.jpg", title: "Devilman", description: "Un adolescent fusionne avec un d√©mon pour sauver l‚Äôhumanit√©." },
        { image: "Manga-Anime/Fire Force.jpg", title: "Fire Force", description: "Des pompiers sp√©ciaux combattent des incendies caus√©s par des combustions humaines." },
        { image: "Manga-Anime/Dr.Stone.jpg", title: "Dr.Stone", description: "3000 ans apr√®s la p√©trificatioon de la Terre des survivants veulent reconstruire la civilisation gr√¢ce √† la science." },
        { image: "Manga-Anime/Berserk.jpg", title: "Berserk", description: "Guts, un guerrier maudit, cherche vengeance dans un monde brutal." }
      ],
      "Sh≈çnen": [
        { image: "Manga-Anime/Dragon Ball Z.jpg", title: "Dragon Ball Z", description: "Goku prot√®ge la Terre contre de puissants ennemis." },
        { image: "Manga-Anime/OnePiece.jpg", title: "One Piece", description: "Luffy cherche le tr√©sor l√©gendaire pour devenir roi des pirates." },
        { image: "Manga-Anime/GTO.jpg", title: "GTO", description: "Un ancien voyou devient prof et tente d'√©duquer une classe difficile." },
        { image: "Manga-Anime/NarutoS.jpg", title: "Naruto Shippuden", description: "Naruto veut devenir Hokage et sauver son ami Sasuke." },
        { image: "Manga-Anime/Death Note.jpg", title: "Death Note", description: "Un lyc√©en d√©couvre un carnet qui tue ceux dont on √©crit le nom √† l'int√©rieur." },
        { image: "Manga-Anime/Demon Slayer.jpg", title: "Demon Slayer", description: "Tanjir√¥ combat les d√©mons pour sauver sa s≈ìur qui a √©t√© transform√© en demon." },
        { image: "Manga-Anime/My Hero Academia.jpg", title: "My Hero Academia", description: "Izuku veut devenir un h√©ros dans un monde rempli de super-pouvoirs." },
        { image: "Manga-Anime/The Promised Neverland.jpg", title: "The Promised Neverland", description: "Des enfants d√©couvrent l‚Äôhorrible v√©rit√© sur leur orphelinat." },
        { image: "Manga-Anime/Chainsaw Man.jpg", title: "Chainsaw Man", description: "Un chasseur de d√©mons fusionne avec son chien-tron√ßonneuse." },
        { image: "Manga-Anime/Fire Force.jpg", title: "Fire Force", description: "Des pompiers sp√©ciaux combattent des incendies caus√©s par des combustions humaines." },
        { image: "Manga-Anime/Soul Eater.jpg", title: "Soul Eater", description: "Des √©l√®ves manient des armes vivantes pour chasser des √¢mes mal√©fiques." },
        { image: "Manga-Anime/FullMetal Alchemist Brotherhood.jpg", title: "FullMetal Alchemist", description: "Deux fr√®res cherchent la pierre philosophale pour retrouver leurs corps." },
        { image: "Manga-Anime/Hunter x Hunter.jpg", title: "Hunter x Hunter", description: "Gon part √† l‚Äôaventure pour devenir Hunter et retrouver son p√®re." },
        { image: "Manga-Anime/Bleach.jpg", title: "Bleach", description: "Ichigo devient Shinigami pour combattre les esprits mal√©fiques." },
        { image: "Manga-Anime/Fairy Tail.jpg", title: "Fairy Tail", description: "Une guilde de mages vit de folles aventures." },
        { image: "Manga-Anime/JoJo's Bizarre Adventure.jpg", title: "JoJo's Bizarre Adventure", description: "Chaque g√©n√©ration des Joestar affronte des ennemis √©tranges." },
        { image: "Manga-Anime/Tomodachi Game.jpg", title: "Tomodachi Game", description: "Des amis participent √† un jeu cruel pour rembourser une dette." },
        { image: "Manga-Anime/Gurren Lagann.jpg", title: "Gurren Lagann", description: "Des adolescents pilotent des robots pour lutter contre des forces obscures." },
        { image: "Manga-Anime/Noragami.jpg", title: "Noragami", description: "Un dieu sans temple aide les humains pour quelques pi√®ces." },
        { image: "Manga-Anime/Albator 84.jpg", title: "Albator 84", description: "Un pirate de l‚Äôespace combat pour la libert√© de l‚Äôhumanit√©." },
        { image: "Manga-Anime/Overlord.jpeg", title: "Overlord", description: "Un joueur reste coinc√© dans un jeu vid√©o en tant que puissant sorcier." },
        { image: "Manga-Anime/Samurai 7.jpg", title: "Samurai 7", description: "Des samoura√Øs d√©fendent un village contre des bandits." },
        { image: "Manga-Anime/DanMachi.jpg", title: "DanMachi", description: "Un jeune aventurier explore des donjons avec l‚Äôaide de dieux." },
        { image: "Manga-Anime/Trigun.jpg", title: "Trigun", description: "Un tireur l√©gendaire essaie d‚Äô√©viter les conflits dans un monde d√©sertique." },
        { image: "Manga-Anime/Charlotte.jpg", title: "Charlotte", description: "Des adolescents avec pouvoirs sp√©ciaux cherchent leur place." },
        { image: "Manga-Anime/Gate.jpg", title: "Gate", description: "Des militaires explorent un portail vers un monde fantastique." },
        { image: "Manga-Anime/Seven Deadly Sins.jpg", title: "Seven Deadly Sins", description: "Des chevaliers puissants veulent sauver le royaume." },
        { image: "Manga-Anime/Gintama.jpg", title: "Gintama", description: "Un samoura√Ø paresseux vit des aventures absurdes dans un Japon futuriste." },
        { image: "Manga-Anime/Eyeshield 21.jpg", title: "Eyeshield 21", description: "Un lyc√©en timide devient star du football am√©ricain." },
        { image: "Manga-Anime/Yu-Gi-Oh!.jpg", title: "Yu-Gi-Oh!", description: "Yugi r√©sout des conflits √† travers des duels de cartes magiques." },
        { image: "Manga-Anime/Classroom Of The Elite.jpg", title: "Classroom Of The Elite", description: "Un lyc√©e sp√©cial forme les futurs √©lites du pays." },
        { image: "Manga-Anime/Kuroko no Basket.jpg", title: "Kuroko no Basket", description: "Un joueur discret aide son √©quipe √† devenir la meilleure au basket." }
      ],
      "Sh≈çjo": [
        { image: "Manga-Anime/Kaguya-sama.jpg", title: "Kaguya-sama:Love is War", description: "Deux g√©nies amoureux se livrent une guerre psychologique pour ne pas avouer en premier." },
        { image: "Manga-Anime/Quintessential Quintuplets.jpg", title: "Quintessential Quintuplets", description: "Un √©tudiant donne des cours √† cinq s≈ìurs qui tombent peu √† peu amoureuses." },
        { image: "Manga-Anime/Fruit Basket.jpg", title: "Fruit Basket", description: "Une fille d√©couvre qu‚Äôune famille se transforme en animaux du zodiaque." },
        { image: "Manga-Anime/Blue Box.jpg", title: "Blue Box", description: "Un sportif timide vit sous le m√™me toit que sa crush basketteuse." },
        { image: "Manga-Anime/Nisekoi.jpg", title: "Nisekoi", description: "Deux lyc√©ens doivent faire semblant de sortir ensemble malgr√© leurs rancunes." },
        { image: "Manga-Anime/Darling in the Franxx.jpg", title: "Darling in the Franxx", description: "Des ados pilotent des robots et d√©couvrent l‚Äôamour dans un monde en ruine." },
        { image: "Manga-Anime/Nana.jpg", title: "Nana", description: "Deux femmes nomm√©es Nana partagent un appart et vivent des histoires d‚Äôamour intenses" },
        { image: "Manga-Anime/More than a Married Couple.jpg", title: "More than a Married Couple but Not Lovers", description: "Deux lyc√©ens cohabitent comme un faux couple pour un projet scolaire." },
        { image: "Manga-Anime/I Want to Eat Your Pancreas.jpg", title: "I Want to Eat Your Pancreas", description: "Un gar√ßon renferm√© devient l‚Äôami d‚Äôune fille malade et pleine de vie." },
        { image: "Manga-Anime/Maid Sama.jpg", title: "Maid Sama", description: "Une pr√©sidente s√©v√®re cache son job de maid √† l‚Äô√©cole‚Ä¶ jusqu‚Äô√† ce qu‚Äôun gar√ßon le d√©couvre." },
        { image: "Manga-Anime/Wotakoi.jpg", title: "Wotakoi: Love is Hard for Otaku", description: "Deux coll√®gues otakus commencent une relation dr√¥le et r√©aliste." },
        { image: "Manga-Anime/Blue Spring Ride.jpg", title: "Blue Spring Ride", description: "Une fille retrouve son amour de jeunesse devenu froid et distant." },
        { image: "Manga-Anime/To Love-ru.jpg", title: "To Love-ru", description: " Un gar√ßon timide est fianc√© √† une extraterrestre impr√©visible." },
        { image: "Manga-Anime/Your Lie in April.jpg", title: "Your Lie in April", description: "Un pianiste bris√© retrouve la passion gr√¢ce √† une violoniste excentrique." },
        { image: "Manga-Anime/Tonikaku Kawaii.jpg", title: "Tonikaku Kawaii", description: "Un couple mari√© jeune vit une romance douce et myst√©rieuse." },
        { image: "Manga-Anime/Nagatoro.jpg", title: "Arr√™te de me chauffer, Nagatoro", description: " Une fille taquine un gar√ßon timide qu‚Äôelle aime en secret." },
        { image: "Manga-Anime/Domestic Girlfriend.jpg", title: "Domestic Girlfriend", description: "Un gar√ßon est pris dans un triangle amoureux avec ses deux demi-s≈ìurs." },
        { image: "Manga-Anime/Rent-A-Girlfriend.jpg", title: "Rent-A-Girlfriend", description: "Un √©tudiant loue une copine et finit par tomber amoureux d‚Äôelle." },
        { image: "Manga-Anime/Date A Live.jpg", title: "Date A Live", description: "Pour sauver le monde, un gar√ßon s√©duit des filles aux pouvoirs destructeurs." },
        { image: "Manga-Anime/Komi.jpg", title: "Komi Cherche ses Mots", description: " Une fille trop timide veut se faire 100 amis gr√¢ce √† un camarade gentil." },
        { image: "Manga-Anime/Your Name.jpg", title: "Your Name", description: " Deux lyc√©ens √©changent de corps et tombent amoureux √† travers le temps." },
        { image: "Manga-Anime/Horimiya.jpg", title: "Horimiya", description: "Un gar√ßon discret et une fille populaire se d√©couvrent hors du lyc√©e." },
        { image: "Manga-Anime/Shikimori.jpg", title: "Shikimori's Not Just a Cutie", description: "Une fille mignonne mais badass prot√®ge son copain maladroit." },
        { image: "Manga-Anime/The Dangers in my Heart.jpeg", title: "The Dangers in my Heart", description: "Un gar√ßon sombre tombe amoureux d‚Äôune fille joyeuse et populaire." },
        { image: "Manga-Anime/Call of the Night.jpg", title: "Call of the Night", description: "Un gar√ßon insomniaque va tomber amoureux en voulant devenir un vampire." },
        { image: "Manga-Anime/The 100 Girlfriends.jpg", title: "Les 100 petites amies qui t'aiiiment √† en mourir", description: "Un gar√ßon doit sortir avec 100 filles qui l‚Äôaiment vraiment, sinon elles meurent." },
        { image: "Manga-Anime/My Dress-Up Darling.jpg", title: "My Dress-Up Darling", description: "Un gar√ßon passionn√© de poup√©e traditionnelle aide une fille cosplayeuse √† r√©aliser ses r√™ves." },
        { image: "Manga-Anime/Spice and Wolf.jpg", title: "Spice and Wolf", description: "Un marchand voyage avec une d√©esse louve maligne et s√©duisante." },
        { image: "Manga-Anime/Roshidere.jpg", title: "Alya Sometimes Hides Her Feelings in Russian", description: "Un g√©nie tombe amoureux d'une fille qui parle en russe lorsqu'elle est embarrass√©e" },
        { image: "Manga-Anime/My Happy Marriage.jpg", title: "My Happy Marriage", description: "Une fille rejet√©e trouve enfin de l‚Äôamour dans un mariage arrang√©." },
        { image: "Manga-Anime/Bunny Girl Senpai.jpg", title: "Rascal Does Not Dream of Bunny Girl Senpai", description: "Un gar√ßon aide une actrice invisible √† ne pas dispara√Ætre." },
        { image: "Manga-Anime/The Angel Next Door.jpg", title: "The Angel Next Door Spoils Me Rotten", description: "Une voisine parfaite prend soin d‚Äôun gar√ßon ordinaire et se rapproche de lui." },
      ],
      "Seinen": [
        { image: "Manga-Anime/Death Note.jpg", title: "Death Note", description: "Un lyc√©en d√©couvre un carnet qui tue les gens dont il √©crit le nom √† l'int√©rieur." },
        { image: "Manga-Anime/Snk.jpg", title: "Snk", description: "Des humains luttent pour survivre face √† des titans mangeurs d'hommes." },
        { image: "Manga-Anime/Btooom!.jpg", title: "Btooom!", description: "Un jeune est pi√©g√© sur une √Æle o√π il doit tuer pour survivre avec des bombes." },
        { image: "Manga-Anime/Black Lagoon.jpg", title: "Black Lagoon", description: "Un employ√© devient pirate apr√®s avoir √©t√© enlev√© par un groupe de mercenaires." },
        { image: "Manga-Anime/Blue Exorcist.jpg", title: "Blue Exorcist", description: "Un ado d√©couvre qu‚Äôil est le fils de Satan et d√©cide de le combattre." },
        { image: "Manga-Anime/Rainbow.jpg", title: "Rainbow", description: "Des jeunes d√©linquants affrontent la cruaut√© dans un centre de d√©tention au Japon." },
        { image: "Manga-Anime/Samurai Champloo.jpg", title: "Samurai Champloo", description: "Trois voyageurs aux styles diff√©rents cherchent un samoura√Ø qui sent le tournesol." },
        { image: "Manga-Anime/Monster.jpg", title: "Monster", description: "Un chirurgien traque un tueur en s√©rie qu‚Äôil a sauv√© enfant." },
        { image: "Manga-Anime/High School of the Dead.jpg", title: "High School of the Dead", description: "Des lyc√©ens tentent de survivre dans un monde envahi par les zombies." },
        { image: "Manga-Anime/Berserk.jpg", title: "Berserk", description: "Un guerrier maudit affronte des d√©mons dans un monde brutal et m√©di√©val." },
        { image: "Manga-Anime/Tokyo Ghoul.jpg", title: "Tokyo Ghoul", description: "Un √©tudiant devient mi-goule apr√®s une attaque et lutte pour garder son humanit√©." },
        { image: "Manga-Anime/Hellsing Ultimate.jpg", title: "Hellsing Ultimate", description: "Une organisation chasse les vampires avec l‚Äôaide d‚Äôun puissant immortel." },
        { image: "Manga-Anime/Kingdom.jpg", title: "Kingdom", description: "Deux orphelins r√™vent de devenir grands g√©n√©raux dans la Chine ancienne." },
        { image: "Manga-Anime/20th Century Boys.jpg", title: "20th Century Boys", description: "Un groupe d‚Äôamis tente d‚Äôarr√™ter une secte li√©e √† un jeu qu‚Äôils ont invent√© enfants." },
        { image: "Manga-Anime/Grand Blue.jpg", title: "Grand Blue", description: "Un √©tudiant d√©couvre la plong√©e sous-marine‚Ä¶ et les exc√®s de la vie √©tudiante." },
        { image: "Manga-Anime/Vagabond.jpg", title: "Vagabond", description: "L‚Äôhistoire romanc√©e du c√©l√®bre samoura√Ø Miyamoto Musashi." },
      ]};

      let selectedCategory = "All-Time";
  let currentRound = [];
  let winners = [];
  let pairIndex = 0;
  let roundNumber = 1;
  let totalRounds = 0;

  const card1 = document.getElementById('card1');
  const card2 = document.getElementById('card2');
  const roundIndicator = document.getElementById('roundIndicator');
  const categoryElements = document.querySelectorAll('.category');
  const cardContainer = document.querySelector('.card-container');

  function normalizeCategory(cat) {
    return cat.trim().toLowerCase();
  }

  function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
  }

  function updateRoundIndicator() {
    roundIndicator.textContent = `Round ${roundNumber} sur ${totalRounds} (${currentRound.length} participants)`;
  }

async function loadPair() {
  // Si on a fini de parcourir toutes les paires
  if (pairIndex >= currentRound.length - 1) {
    if (winners.length === 1) {
      const gagnant = winners[0];

      const nouvelElement = {
        [selectedCategory.toUpperCase()]: {
          id: Date.now(),
          details: {
            pseudo: localStorage.pseudo || '',
            age: localStorage.age || null,
            sex: localStorage.sex || '',
            fav: gagnant?.title || ''
          }
        }
      };

      console.log("Donn√©es √† envoyer :", JSON.stringify(nouvelElement, null, 2));

      // Envoi vers le serveur
      let responseMessage = 'Envoi en cours...';
      try {
        const response = await fetch('http://localhost:3000/ajouterElementJSON', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(nouvelElement)
        });

        if (!response.ok) throw new Error(`Erreur HTTP ${response.status}`);
        responseMessage = await response.text();
        console.log("R√©ponse du serveur :", responseMessage);
      } catch (error) {
        console.error("Erreur lors de l'envoi :", error);
        responseMessage = `Erreur : ${error.message}`;
      }

      // Affichage final du gagnant
      document.body.className = '';
      document.body.innerHTML = '';
      document.body.classList.add('victory-background');
      document.body.innerHTML = `
        <div class="winner">
          <h1>üèÜ Anime Gagnant üèÜ</h1>
          <h2>${gagnant.title || 'Inconnu'}</h2>
          <img src="${gagnant.image || ''}" alt="${gagnant.title || 'Inconnu'}">
          <p>${gagnant.description || ''}</p>
          <p id="response">${responseMessage}</p>
          <p class="compte-rebours">Retour √† l'accueil dans <span id="countdown">10</span> secondes...</p>
          <button class="btn-finish">‚Üê Retour imm√©diat</button>
        </div>
      `;

      // Compte √† rebours
      let seconds = 10;
      const countdownEl = document.getElementById("countdown");
      const timer = setInterval(() => {
        seconds--;
        countdownEl.textContent = seconds;
        if (seconds <= 0) {
          clearInterval(timer);
          window.location.href = "Anime.html";
        }
      }, 1000);

      document.querySelector('.btn-finish').addEventListener('click', () => {
        clearInterval(timer);
        window.location.href = "Anime.html";
      });

    } else {
      // Pr√©parer le round suivant
      currentRound = winners;
      winners = [];
      pairIndex = 0;
      roundNumber++;
      shuffleArray(currentRound);
      updateRoundIndicator();
      loadPair();
    }
    return;
  }

  // Charger la paire actuelle
  const left = currentRound[pairIndex];
  const right = currentRound[pairIndex + 1];
  card1.innerHTML = `
    <div class="anime-card">
      <img src="${left.image}" alt="${left.title}">
      <h2>${left.title}</h2>
      <p>${left.description}</p>
    </div>
  `;
  card2.innerHTML = `
    <div class="anime-card">
      <img src="${right.image}" alt="${right.title}">
      <h2>${right.title}</h2>
      <p>${right.description}</p>
    </div>
  `;
}

      let seconds = 10;
      const countdownEl = document.getElementById("countdown");
      const timer = setInterval(() => {
        seconds--;
        countdownEl.textContent = seconds;
        if (seconds <= 0) {
          clearInterval(timer);
          window.location.href = "Anime.html";
        }
      }, 1000);
      document.querySelector('.btn-finish').addEventListener('click', () => {
        clearInterval(timer);
        window.location.href = "Anime.html";
      });

    } else {
      currentRound = winners;
      winners = [];
      pairIndex = 0;
      roundNumber++;
      shuffleArray(currentRound);
      updateRoundIndicator();
      loadPair();
    }
  }
}
  function chooseWinner(index) {
    winners.push(currentRound[pairIndex + index]);
    pairIndex += 2;
    loadPair();
  }

  function initializeTournament() {
    const keys = Object.keys(categoriesData);
    const foundKey = keys.find(k => normalizeCategory(k) === normalizeCategory(selectedCategory));

    if (foundKey && categoriesData[foundKey].length > 0) {
      currentRound = [...categoriesData[foundKey]];
      totalRounds = Math.log2(currentRound.length);
      if (!Number.isInteger(totalRounds)) {
        const validLength = Math.pow(2, Math.floor(totalRounds));
        currentRound = currentRound.slice(0, validLength);
        totalRounds = Math.floor(totalRounds);
      }
      shuffleArray(currentRound);
      winners = [];
      pairIndex = 0;
      roundNumber = 1;
      updateRoundIndicator();
      loadPair();
    } else {
      cardContainer.innerHTML = `<div class="winner"><h2>Aucun anime pour cette cat√©gorie</h2></div>`;
      roundIndicator.textContent = '';
    }
  }

  categoryElements.forEach(elem => {
    elem.addEventListener('click', () => {
      categoryElements.forEach(e => e.classList.remove('selected'));
      elem.classList.add('selected');
      selectedCategory = elem.getAttribute('data-category');
      initializeTournament();
    });
  });

  const urlParams = new URLSearchParams(window.location.search);
  const categoryParam = urlParams.get('category');
  if (categoryParam) {
    selectedCategory = categoryParam;
    categoryElements.forEach(e => e.classList.remove('selected'));
    const targetCat = Array.from(categoryElements).find(c => normalizeCategory(c.dataset.category) === normalizeCategory(categoryParam));
    if (targetCat) targetCat.classList.add('selected');
  }

  card1.addEventListener('click', () => chooseWinner(0));
  card2.addEventListener('click', () => chooseWinner(1));

  initializeTournament();
});
    </script>
  
  </body>
  </html>
